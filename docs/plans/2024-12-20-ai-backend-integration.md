# üöÄ –ü–ª–∞–Ω —Ä–∞–±–æ—Ç—ã –Ω–∞ 20.12.2024 - AI Backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## üéØ –ì–ª–∞–≤–Ω—ã–µ —Ü–µ–ª–∏ –¥–Ω—è

### 1. üí≥ –ü–æ–∫—É–ø–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ API
- **Claude API** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π): Anthropic API –∫–ª—é—á
- **OpenAI API** (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞): GPT-4o mini –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞**: Environment variables –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### 2. üîß Backend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **AI Controller**: –°–æ–∑–¥–∞–Ω–∏–µ API endpoints
- **Database —Å—Ö–µ–º–∞**: –¢–∞–±–ª–∏—Ü—ã –¥–ª—è AI –¥–∞–Ω–Ω—ã—Ö
- **AI Service**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º AI API
- **Mock ‚Üí Real**: –ó–∞–º–µ–Ω–∞ –º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 3. üì± –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- **AI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–î–∏–∑–∞–π–Ω**: –í —Å—Ç–∏–ª–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –°–≤—è–∑–∫–∞ —Å AI —Å–∏—Å—Ç–µ–º–æ–π

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω

### –£—Ç—Ä–æ (9:00 - 12:00)
#### API Setup
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Anthropic/OpenAI
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–æ–≤
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ Postman

#### Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] –°–æ–∑–¥–∞—Ç—å `/api/ai/` —Ä–æ—É—Ç—ã
- [ ] AI –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
- [ ] Database migrations –¥–ª—è AI —Ç–∞–±–ª–∏—Ü
- [ ] –ë–∞–∑–æ–≤—ã–π AI service

### –î–µ–Ω—å (12:00 - 16:00)
#### AI Endpoints
```javascript
POST /api/ai/analyze-mood
GET  /api/ai/insights/:userId
POST /api/ai/log-activity
GET  /api/ai/recommendations
```

#### Database —Å—Ö–µ–º–∞
```sql
-- AI —Å–∏–≥–Ω–∞–ª—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
ai_signals (id, user_id, type, data, timestamp)

-- –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã
ai_insights (id, user_id, type, content, created_at)

-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ AI
ai_recommendations (id, user_id, category, message, priority)
```

### –í–µ—á–µ—Ä (16:00 - 19:00)
#### Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] API –∫–ª–∏–µ–Ω—Ç –¥–ª—è AI –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ó–∞–º–µ–Ω–∞ mock –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ
- [ ] Error handling –¥–ª—è AI requests
- [ ] Loading states –¥–ª—è AI –æ–ø–µ—Ä–∞—Ü–∏–π

#### –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
- [ ] AI —Å–µ–∫—Ü–∏—è –≤ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
- [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
- [ ] –î–∏–∑–∞–π–Ω –≤ –±–æ—Ä–¥–æ–≤–æ–º —Å—Ç–∏–ª–µ

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

### Backend
```typescript
// AI Service –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
interface AIService {
  analyzeMood(data: MoodData): Promise<Analysis>
  generateInsights(userId: string): Promise<Insight[]>
  getRecommendations(userId: string): Promise<Recommendation[]>
}

// Database –º–æ–¥–µ–ª–∏
interface AISignal {
  id: string
  userId: string
  type: 'mood' | 'activity' | 'stress'
  data: object
  timestamp: Date
}
```

### Frontend
```typescript
// AI API –∫–ª–∏–µ–Ω—Ç
class AIClient {
  async analyzeMood(mood: MoodEntry): Promise<AIResponse>
  async getInsights(): Promise<PersonalInsight[]>
  async logActivity(activity: string): Promise<void>
}
```

## üí∞ –ë—é–¥–∂–µ—Ç –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å

### Claude API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
- **Haiku 3.5**: ~$3,500/–º–µ—Å—è—Ü –¥–ª—è 20K –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ù–∞—á–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç**: $100 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **Scaling –ø–ª–∞–Ω**: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (Haiku + Sonnet)

### OpenAI API (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
- **GPT-4o mini**: ~$6,000/–º–µ—Å—è—Ü –¥–ª—è —Ç–µ—Ö –∂–µ –æ–±—ä–µ–º–æ–≤
- **–ù–∞—á–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç**: $50 –¥–ª—è —Ç–µ—Å—Ç–æ–≤

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
- [ ] ‚úÖ API –∫–ª—é—á–∏ –ø–æ–ª—É—á–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] ‚úÖ 3+ AI endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] ‚úÖ Database —Å—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∞
- [ ] ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ AI –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- [ ] ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] ‚úÖ Error handling –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## üöß –í–æ–∑–º–æ–∂–Ω—ã–µ –±–ª–æ–∫–µ—Ä—ã
- **API –ª–∏–º–∏—Ç—ã**: –í–æ–∑–º–æ–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –Ω–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞—Ö
- **Billing**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –≤—Ä–µ–º—è
- **Rate limiting**: –ù—É–∂–Ω–æ —É—á–µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- **Latency**: –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ AI –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ UX

## üìö –†–µ—Å—É—Ä—Å—ã
- [Anthropic API Docs](https://docs.anthropic.com/)
- [OpenAI API Reference](https://platform.openai.com/docs/)
- [Claude Pricing](https://www.anthropic.com/pricing)
- [Best Practices for AI Integration](https://docs.anthropic.com/claude/docs/intro-to-claude)

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–ö –∫–æ–Ω—Ü—É –¥–Ω—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥–æ—Ç–æ–≤–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è AI —Å–∏—Å—Ç–µ–º–∞:
- –†–µ–∞–ª—å–Ω—ã–µ AI –æ—Ç–≤–µ—Ç—ã –≤–º–µ—Å—Ç–æ mock –¥–∞–Ω–Ω—ã—Ö
- –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI –≤ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî• –í—ã—Å–æ–∫–∏–π  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å**: ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)  
**–í—Ä–µ–º—è**: 8-10 —á–∞—Å–æ–≤  
**Dependencies**: API access, backend –∑–Ω–∞–Ω–∏—è

